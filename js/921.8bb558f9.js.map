{"version":3,"file":"js/921.8bb558f9.js","mappings":"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","sources":["webpack://my-project/./src/views/TestCanvasDrawing.vue","webpack://my-project/./src/components/test/CanvasModule.vue","webpack://my-project/./src/components/test/CanvasModule.vue?432c","webpack://my-project/./src/components/test/Fabric.vue","webpack://my-project/./src/components/test/Fabric.vue?60ce","webpack://my-project/./src/views/TestCanvasDrawing.vue?9e78"],"sourcesContent":["<template>\n<div>\n  <CanvasModule v-if=\"step === 0\" v-on:setStep=\"setStep\" />\n\n  <Fabric v-if=\"step === 1\" v-on:setStep=\"setStep\" />\n</div>\n</template>\n\n<script>\nimport CanvasModule from \"@/components/test/CanvasModule.vue\"\nimport Fabric from \"@/components/test/Fabric.vue\"\n\nexport default {\n  name: \"ServeDev\",\n  components: {\n    CanvasModule,\n    Fabric\n  },\n  data () {\n    return {\n      step: 0\n    };\n  },\n  methods: {\n    setStep (setStep) {\n      this.step = setStep\n    }\n  },\n};\n</script>\n\n<style scoped>\n\n</style>","<template>\n  <div class=\"flex\">\n    <div class=\"source\">\n      <p>Canvas:</p>\n      <vue-drawing-canvas\n        ref=\"VueCanvasDrawing\"\n        v-model:image=\"image\"\n        :width=\"600\"\n        :height=\"400\"\n        :stroke-type=\"strokeType\"\n        :line-cap=\"lineCap\"\n        :line-join=\"lineJoin\"\n        :fill-shape=\"fillShape\"\n        :eraser=\"eraser\"\n        :lineWidth=\"line\"\n        :color=\"color\"\n        :background-color=\"backgroundColor\"\n        :background-image=\"backgroundImage\"\n        :watermark=\"watermark\"\n        :initial-image=\"initialImage\"\n        saveAs=\"png\"\n        :styles=\"{\n          border: 'solid 1px #000',\n        }\"\n        :lock=\"disabled\"\n        :additional-images=\"additionalImages\"\n      />\n      <!-- @mousemove=\"getCoordinate($event)\" -->\n      <!-- <p>\n        x-axis: <strong>{{ x }}</strong\n        >, y-axis: <strong>{{ y }}</strong>\n      </p> -->\n      <div class=\"button-container\">\n        <button type=\"button\" @click.prevent=\"disabled = !disabled\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-lock\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              v-if=\"!disabled\"\n              d=\"M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2zM3 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1H3z\"\n            />\n            <path\n              v-else\n              d=\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z\"\n            />\n          </svg>\n          <span v-if=\"!disabled\">Unlock</span>\n          <span v-else>Lock</span>\n        </button>\n        <button type=\"button\" @click.prevent=\"$refs.VueCanvasDrawing.undo()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-arrow-counterclockwise\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              fill-rule=\"evenodd\"\n              d=\"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z\"\n            />\n            <path\n              d=\"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z\"\n            />\n          </svg>\n          Undo\n        </button>\n        <button type=\"button\" @click.prevent=\"$refs.VueCanvasDrawing.redo()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-arrow-clockwise\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              fill-rule=\"evenodd\"\n              d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z\"\n            />\n            <path\n              d=\"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z\"\n            />\n          </svg>\n          Redo\n        </button>\n        <button\n          type=\"button\"\n          @click.prevent=\"$refs.VueCanvasDrawing.redraw()\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-arrow-repeat\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              d=\"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z\"\n            />\n            <path\n              fill-rule=\"evenodd\"\n              d=\"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z\"\n            />\n          </svg>\n          Refresh\n        </button>\n        <button type=\"button\" @click.prevent=\"$refs.VueCanvasDrawing.reset()\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-file-earmark\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              d=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\"\n            />\n          </svg>\n          Reset\n        </button>\n      </div>\n      <div class=\"button-container\">\n        <button type=\"button\" @click.prevent=\"eraser = !eraser\">\n          <span v-if=\"eraser\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              class=\"bi bi-eraser\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path\n                d=\"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414l-3.879-3.879zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z\"\n              />\n            </svg>\n            Eraser\n          </span>\n          <span v-else>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              class=\"bi bi-pencil\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path\n                d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"\n              />\n            </svg>\n            Draw\n          </span>\n        </button>\n        <select v-model=\"line\">\n          <option v-for=\"n in 25\" :key=\"'option-' + n\" :value=\"n\">\n            {{ n }}\n          </option>\n        </select>\n        <input type=\"color\" v-model=\"color\" />\n        <select v-model=\"strokeType\">\n          <option value=\"dash\">Dash</option>\n          <option value=\"line\">Straight Line</option>\n          <option value=\"circle\">Circle</option>\n          <option value=\"square\">Square</option>\n          <option value=\"triangle\">Triangle</option>\n          <option value=\"half_triangle\">Half Triangle</option>\n        </select>\n        <select v-model=\"lineCap\">\n          <option value=\"round\">lineCap Round</option>\n          <option value=\"square\">lineCap Square</option>\n          <option value=\"butt\">lineCap butt</option>\n        </select>\n        <select v-model=\"lineJoin\">\n          <option value=\"round\">lineJoin Round</option>\n          <option value=\"miter\">lineJoin miter</option>\n          <option value=\"bevel\">lineJoin bevel</option>\n        </select>\n        <button type=\"button\" @click.prevent=\"fillShape = !fillShape\">\n          <span v-if=\"fillShape\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              class=\"bi bi-square-fill\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path\n                d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z\"\n              />\n            </svg>\n            Fill\n          </span>\n          <span v-else>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              class=\"bi bi-square\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path\n                d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"\n              />\n            </svg>\n            Stroke\n          </span>\n        </button>\n      </div>\n      <div class=\"button-container\">\n        <button type=\"button\" @click.prevent=\"getStrokes()\" class=\"py-2 px-3 bg-gray-600 text-white\">\n          Save All Strokes\n        </button>\n        <button type=\"button\" @click.prevent=\"removeSavedStrokes()\" class=\"py-2 px-3 bg-gray-300 text-white\">\n          Remove Saved Strokes\n        </button>\n      </div>\n      <div class=\"button-container\">\n        <div style=\"margin-right: 30px\">\n          <p style=\"margin-bottom: 0\">Background Color:</p>\n          <input type=\"color\" v-model=\"backgroundColor\" />\n        </div>\n        <div>\n          <p style=\"margin-bottom: 0\">Upload Background Image:</p>\n          <input type=\"file\" @change=\"setImage($event)\" />\n        </div>\n        <div>\n          <p style=\"margin-bottom: 0\">Upload Watermark Image:</p>\n          <input type=\"file\" @change=\"setWatermarkImage($event)\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"output\">\n      <p>Output:</p>\n      <img :src=\"image\" style=\"border: solid 1px #000000\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueDrawingCanvas from \"vue-drawing-canvas\"\n\nexport default {\n  name: \"CanvasModule\",\n  components: {\n    VueDrawingCanvas,\n  },\n  props: {\n  },\n  data () {\n    return {\n      initialImage: [\n        {\n          type: \"dash\",\n          from: {\n            x: 262,\n            y: 154,\n          },\n          coordinates: [],\n          color: \"#000000\",\n          width: 5,\n          fill: false,\n        },\n      ],\n      x: 0,\n      y: 0,\n      image: \"\",\n      eraser: false,\n      disabled: false,\n      fillShape: false,\n      line: 5,\n      color: \"#000000\",\n      strokeType: \"dash\",\n      lineCap: \"square\",\n      lineJoin: \"miter\",\n      backgroundColor: \"#FFFFFF\",\n      backgroundImage: null,\n      watermark: null,\n      additionalImages: []\n    }\n  },\n  mounted () {\n    if (\"vue-drawing-canvas\" in window.localStorage) {\n      this.initialImage = JSON.parse(\n        window.localStorage.getItem(\"vue-drawing-canvas\")\n      )\n    }\n  },\n  methods: {\n    async setImage(event) {\n      let URL = window.URL\n      this.backgroundImage = URL.createObjectURL(event.target.files[0])\n      await this.$refs.VueCanvasDrawing.redraw()\n    },\n    async setWatermarkImage(event) {\n      let URL = window.URL\n      this.watermark = {\n        type: \"Image\",\n        source: URL.createObjectURL(event.target.files[0]),\n        x: 0,\n        y: 0,\n        imageStyle: {\n          width: 600,\n          height: 400,\n        },\n      }\n      await this.$refs.VueCanvasDrawing.redraw()\n    },\n    getCoordinate(event) {\n      let coordinates = this.$refs.VueCanvasDrawing.getCoordinates(event)\n      this.x = coordinates.x\n      this.y = coordinates.y\n    },\n    getStrokes() {\n      window.localStorage.setItem(\n        \"vue-drawing-canvas\",\n        JSON.stringify(this.$refs.VueCanvasDrawing.getAllStrokes())\n      )\n      window.localStorage.setItem(\n        \"vue-canvas\", this.image\n      )\n      alert(\n        \"Strokes saved, reload your browser to see the canvas with previously saved image\"\n      )\n\n      this.$emit('setStep', 1)\n    },\n    removeSavedStrokes() {\n      window.localStorage.removeItem(\"vue-drawing-canvas\")\n      alert(\"Strokes cleared from local storage\")\n    }\n  }\n}\n</script>\n\n<style scoped>\n.button-container > * {\n  margin-top: 15px;\n  margin-right: 10px;\n}\n</style>","import { render } from \"./CanvasModule.vue?vue&type=template&id=567fad9f&scoped=true\"\nimport script from \"./CanvasModule.vue?vue&type=script&lang=js\"\nexport * from \"./CanvasModule.vue?vue&type=script&lang=js\"\n\nimport \"./CanvasModule.vue?vue&type=style&index=0&id=567fad9f&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Demo\\\\Vue3\\\\F2E2022\\\\Stage2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-567fad9f\"]])\n\nexport default __exports__","<template>\n  <div class='Fabric'>\n    <div>\n      <input type='file' accept='application/pdf' placeholder='選擇PDF檔案' />\n    </div>\n\n    <canvas id='canvas' style='border: 1px solid #000'></canvas>\n\n    <p>選擇簽名</p>\n    <img class='sign' style='border: 1px solid #000' width='250' height='150' />\n\n    <button class=\"py-2 px-3 bg-gray-600 text-white downloadBtn\">download PDF</button>\n    <a @click=\"$emit('setStep', 0)\">上一頁</a>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport { onMounted, ref } from 'vue'\nexport default {\n  name: 'FabricPage',\n  setup () {\n    const isPDfFile = ref(false)\n    onMounted(() => {\n      const Base64Prefix = 'data:application/pdf;base64,'\n      const add = document.querySelector('.add')\n      pdfjsLib.GlobalWorkerOptions.workerSrc =\n        'https://mozilla.github.io/pdf.js/build/pdf.worker.js'\n\n      const readBlob = (blob) => {\n        console.log('readBlob')\n        return new Promise((resolve, reject) => {\n          const reader = new FileReader()\n          reader.addEventListener('load', () => resolve(reader.result))\n          reader.addEventListener('error', reject)\n          reader.readAsDataURL(blob)\n        })\n      }\n\n      const printPDF = async(pdfData) => {\n        console.log('printPDF')\n        pdfData = await readBlob(pdfData)\n        const data = atob(pdfData.substring(Base64Prefix.length))\n\n        const pdfDoc = await pdfjsLib.getDocument({ data }).promise\n        const pdfPage = await pdfDoc.getPage(1)\n\n        const viewport = pdfPage.getViewport({ scale: window.devicePixelRatio })\n        const canvas = document.createElement('canvas')\n        const context = canvas.getContext('2d')\n\n        // 控制顯示PDF的寬高\n        canvas.height = viewport.height\n        canvas.width = viewport.width\n        const renderContext = {\n          canvasContext: context,\n          viewport,\n        }\n        const renderTask = pdfPage.render(renderContext)\n\n        // 回傳做好的canvas\n        return renderTask.promise.then(() => canvas)\n      }\n\n      const pdfToImage = async(pdfData) => {\n        const scale = 1 / window.devicePixelRatio\n        return new fabric.Image(pdfData, {\n          scaleX: scale,\n          scaleY: scale,\n        })\n      }\n\n      const canvas = new fabric.Canvas('canvas')\n      document.querySelector('input').addEventListener('change', async (e) => {\n      canvas.requestRenderAll()\n      const pdfData = await printPDF(e.target.files[0])\n      const pdfImage = await pdfToImage(pdfData)\n\n      // 調整canvas大小\n      canvas.setWidth(pdfImage.width / window.devicePixelRatio)\n      canvas.setHeight(pdfImage.height / window.devicePixelRatio)\n      canvas.setBackgroundImage(pdfImage, canvas.renderAll.bind(canvas))\n      })\n\n      // 加入簽名\n      const sign = document.querySelector('.sign')\n      if (localStorage.getItem('vue-canvas')) {\n        sign.src = localStorage.getItem('vue-canvas')\n      }\n\n      sign.addEventListener('click', () => {\n        if (!sign.src) return\n        fabric.Image.fromURL(sign.src, function (image) {\n          image.top = 400\n          image.scaleX = 0.5\n          image.scaleY = 0.5\n          canvas.add(image)\n        })\n      })\n\n      // 下讚PDF\n      const pdf = new jsPDF()\n\n      const download = document.querySelector('.downloadBtn')\n      download.addEventListener('click', () => {\n        const image = canvas.toDataURL('image/png')\n        const width = pdf.internal.pageSize.width\n        const height = pdf.internal.pageSize.height\n        pdf.addImage(image, 'png', 0, 0, width, height)\n        pdf.save('download.pdf')\n      })\n    })\n\n    return {\n      isPDfFile\n    }\n  }\n}\n</script>\n<style scoped>\n</style>\n","import { render } from \"./Fabric.vue?vue&type=template&id=af163d62\"\nimport script from \"./Fabric.vue?vue&type=script&lang=js\"\nexport * from \"./Fabric.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Demo\\\\Vue3\\\\F2E2022\\\\Stage2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TestCanvasDrawing.vue?vue&type=template&id=01900616\"\nimport script from \"./TestCanvasDrawing.vue?vue&type=script&lang=js\"\nexport * from \"./TestCanvasDrawing.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Demo\\\\Vue3\\\\F2E2022\\\\Stage2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","$data","_createBlock","_component_CanvasModule","onSetStep","$options","_component_Fabric","class","_createElementVNode","xmlns","width","height","fill","viewBox","d","_hoisted_20","value","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_31","_hoisted_32","_hoisted_33","style","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_vue_drawing_canvas","ref","image","eraser","lineWidth","color","watermark","saveAs","styles","lock","_hoisted_4","type","onClick","_hoisted_5","_hoisted_7","_hoisted_6","_ctx","VueCanvasDrawing","undo","_hoisted_10","redo","_hoisted_11","redraw","_hoisted_12","reset","_hoisted_13","_hoisted_14","_hoisted_16","_hoisted_18","_Fragment","n","key","_hoisted_36","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","onChange","$event","_hoisted_44","_hoisted_45","_hoisted_46","src","name","components","VueDrawingCanvas","props","data","initialImage","from","x","y","coordinates","disabled","fillShape","line","strokeType","lineCap","lineJoin","backgroundColor","backgroundImage","additionalImages","mounted","window","localStorage","this","JSON","parse","getItem","methods","async","event","URL","createObjectURL","target","files","$refs","source","imageStyle","getCoordinate","getCoordinates","getStrokes","setItem","stringify","getAllStrokes","alert","$emit","removeSavedStrokes","removeItem","__exports__","accept","placeholder","id","setup","isPDfFile","onMounted","Base64Prefix","document","querySelector","pdfjsLib","GlobalWorkerOptions","workerSrc","readBlob","blob","console","log","Promise","resolve","reject","reader","FileReader","addEventListener","result","readAsDataURL","printPDF","pdfData","atob","substring","length","pdfDoc","getDocument","promise","pdfPage","getPage","viewport","getViewport","scale","devicePixelRatio","canvas","createElement","context","getContext","renderContext","canvasContext","renderTask","render","then","pdfToImage","fabric","Image","scaleX","scaleY","Canvas","requestRenderAll","e","pdfImage","setWidth","setHeight","setBackgroundImage","renderAll","bind","sign","fromURL","top","add","pdf","jsPDF","download","toDataURL","internal","pageSize","addImage","save","CanvasModule","Fabric","step","setStep"],"sourceRoot":""}